<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stop Watch</title>
    <link rel="stylesheet" href="css/Stop_Wath.css">
</head>
<body>
    <div id="Watch_container">
        <div id="Watch">
            <div id="Time">
                <div class="Time_Item" id="hour">00</div>
                h&nbsp;:&nbsp;
                <div class="Time_Item" id="minute">00</div>
                m&nbsp;:&nbsp;
                <div class="Time_Item" id="second">00</div>
                s&nbsp;:&nbsp;
                <div class="Time_Item" id="milisecond">00</div>ms
            </div>
        </div>
        <div id="Button">
            <button class="Button_item" id="Start" onclick="startincrease()">Start</button>
            <button class="Button_item" id="Stop" onclick="stopincrease()">Stop</button>
            <button class="Button_item" id="Reset" onclick="reset()">Reset</button>
        </div>
    </div>
    <div id="Watch_log">
        <div id="title">LỊCH SỬ DỪNG ĐỒNG HỒ</div>
        <div class="log">1. </div>
        <div class="log">2. </div>
        <div class="log">3. </div>
        <div class="log">4. </div>
        <div class="log">5. </div>
        <div class="log">6. </div>
        <div class="log">7. </div>
        <div class="log">8. </div>
        <div class="log">9. </div>
        <div class="log">10. </div>
    </div>
    <script>
        let hour = 0;
        let min = 0;
        let sc = 0;
        let ms =0;
        let interval =0;
        let i=0;
        let dochour = document.getElementById('hour');
        let docmin = document.getElementById('minute');
        let docsc = document.getElementById('second');
        let docms = document.getElementById('milisecond');
        let log = document.getElementsByClassName('log');
        function increasetime(){
            ms++;
            if(ms <=9){
                docms.innerHTML = "0" + ms;
            }
            if(ms >9){
                docms.innerHTML = ms;
                if(ms >99){
                    ms=0;
                    sc++;
                    if(sc <=9){
                        docsc.innerHTML = "0" +sc;
                    }
                    if(sc >9){
                        docsc.innerHTML = sc;
                        if(sc >59){
                            sc=0;
                            min++;
                            if(min <=9){
                                docmin.innerHTML ="0" +min;
                            }
                            if(min>9){
                                docmin.innerHTML = min;
                                if(min>59){
                                    min=0;
                                    hour++;
                                    if(hour <=9){
                                        dochour.innerHTML = "0" +hour;
                                    }
                                    if(hour >9){
                                        dochour.innerHTML = hour;
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
        function startincrease(){
            interval = setInterval(increasetime,10);
        }
        function stopincrease(){
            if(i > 9)
            {
                i=0;                
            }
            clearInterval(interval);
            log[i].innerHTML = i+1 +". "+ dochour.innerHTML + "h : " + docmin.innerHTML + "m : " + docsc.innerHTML + "s : " + docms.innerHTML +"ms";
            // moi lan dung, chi dung 1 lan
            if(i>0)
            {
                tempprev = log[i-1].innerHTML;
                tempprev= tempprev.substr(2,tempprev.length)
                tempcurrent = log[i].innerHTML;
                tempcurrent = tempcurrent.substr(2,tempcurrent.length);
                if(tempprev == tempcurrent){
                    log[i].innerHTML = i+1+". ";
                    i--;
                }
            }
            i++;
        }
        function reset(){
            hour = 0;
            min = 0;
            ms = 0;
            sc = 0;
            dochour.innerHTML = "00";
            docmin.innerHTML = "00";
            docms.innerHTML = "00";
            docsc.innerHTML ="00";
            for(i=0;i<log.length;i++){
                log[i].innerHTML = i+1 +". ";
            }
        }
    </script>   
</body>
</html>